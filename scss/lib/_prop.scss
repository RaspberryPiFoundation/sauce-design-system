@use 'sass:map';
@use 'sass:meta';

@use 'scss/lib/validation';

@mixin apply($name, $value) {
  @include def($name, $value);
  @include use($name);
}

@mixin define($name, $value) {
  --#{$name}: #{$value};
}

@mixin def($name, $value) {
  @include define($name, $value);
}

@mixin use($name) {
  #{$name}: var(--#{$name});
}

// border.bl('large')
// --border-bottom-left-radius: token.get('radius.border.large');
// border-bottom-left-radius: var(--border-bottom-left-radius);
// border-start-end-radius: var(--border-bottom-left-radius);

@mixin output(
  $properties,
  $value,
  $valid-properties: null,
  $values-map: null
) {
  @include validation.no-shorthand($value);

  @if (meta.type-of($properties) == 'string') {
    $properties: [ $properties ];
  }

  @if ($valid-properties) {
    @include validation.property-allowed($properties, $valid-properties);
  }

  @if ($values-map) {
    $value: map.get($values-map, $value);
  }

  @each $property in $properties {
    @include apply($property, $value);
  }
}
